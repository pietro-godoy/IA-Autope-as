<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buscar - IAuto PeÃ§as</title>
  <link rel="stylesheet" href="style.css">
  <script src="modal.js"></script>
</head>
<body class="buscar-body">
  <!-- BotÃ£o voltar (no topo da pÃ¡gina) -->
  <a href="index.html" class="btn-back-top" title="Voltar para home">â† Voltar</a>

  <!-- VerificaÃ§Ã£o de login -->
  <div id="loginRequired" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; display: flex; align-items: center; justify-content: center;">
    <div style="text-align: center; color: white;">
      <h1 style="font-size: 2rem; margin-bottom: 1rem;">ğŸ” Acesso Restrito</h1>
      <p style="font-size: 1.2rem; margin-bottom: 2rem; max-width: 400px;">Para buscar peÃ§as, vocÃª precisa estar logado na sua conta.</p>
      <button onclick="window.location.href='login.html'" style="
        padding: 1rem 2rem;
        background: linear-gradient(135deg, #e63946 0%, #d62828 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 600;
        margin-right: 1rem;
      " onmouseover="this.style.boxShadow='0 6px 20px rgba(230, 57, 70, 0.4)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.boxShadow='none'; this.style.transform='translateY(0)'">
        Fazer Login
      </button>
      <button onclick="window.location.href='index.html'" style="
        padding: 1rem 2rem;
        background: transparent;
        color: white;
        border: 2px solid white;
        border-radius: 10px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 600;
      " onmouseover="this.style.backgroundColor='rgba(255,255,255,0.1)'" onmouseout="this.style.backgroundColor='transparent'">
        Voltar ao InÃ­cio
      </button>
    </div>
  </div>

  <!-- ConteÃºdo da pÃ¡gina (visÃ­vel apenas se logado) -->
  <div id="searchContent" style="display: none;">
    <div class="buscar-container">
      <div class="buscar-text">
        <h2>Pesquise o modelo e o ano do seu carro, e o restante a IA faz para vocÃª!</h2>
        <h1>ğŸš— IAuto PeÃ§as</h1>
        <div id="userArea" style="margin-top:18px;"></div>
      </div>

      <div class="buscar-box">
        <div class="robot">ğŸ¤–</div>
        <form id="buscaForm" class="busca-form">
          <input type="text" id="modelo" placeholder="Ex: Onix 2022" autocomplete="off">
          <button type="submit">ğŸ”</button>
        </form>

        <div class="history-section" style="margin-top:20px; text-align:left; width:90%; max-width:500px;">
          <h3>HistÃ³rico de buscas</h3>
          <ul id="historyList" class="history-list"></ul>
          <div style="margin-top:15px;">
            <button id="clearHistory" class="btn-ghost" style="width: 100%;">Limpar histÃ³rico</button>
          </div>
        </div>

        <div id="loadingSpinner" class="loading-spinner" style="display:none;">
          <div class="spinner"></div>
          <p>Buscando peÃ§as com IA...</p>
        </div>
      </div>

      <!-- Componente separado de peÃ§as -->
      <div id="pecasComponent" style="display: none; margin-top: 40px; width: 100%; padding: 20px;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
          <div></div>
          <button id="btnClosePecas" style="
            padding: 0.6rem 1.2rem;
            background: linear-gradient(135deg, #e63946 0%, #d62828 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
          " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(230, 57, 70, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
            âœ• Fechar
          </button>
        </div>
        <div id="pecasContainer"></div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>